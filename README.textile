h1. Engine Yard Cloud Recipes

This is a collection of useful Chef recipes for use with Engine Yard's
Cloud services (Solo/Flex). This will give you a brief overview of
what you'll find in this repository and how to use it. Look for
individual README files in each cookbook for more information on how
that particular piece works.

If you look under @cookbooks@, you will find an _example_ cookbook
which has a collection of documented example recipes that you can
use. (TODO: We need to write this)

Once you finish writing a cookbook (or modifying an existing one to
use) you will need to add it to the main recipe located in
@cookbooks/main/recipes/default.rb@. This will make sure that your
cookbook is actually used during the deployment process.

*To reiterate:* If you do not add your cookbook to the @default.rb@
referenced above, it *will not* be used during a deployment.


h2. Included Cookbooks
(This should be updated with brief documentation as each individual
piece is added into the mix.)

h3. UltraSphinx
Note: _For the time being this is the fully-commented cookbook that we
can use. We can use this as a template for the example once we start
working on it._

The ultrasphinx cookbook handles the following tasks:

** Logrotate script for sphinx logs
** ERB templates for creating a @monitrc@ and @sphinx.yml@
** The recipe that describes what to do with the templates

To use it, all you need to do is modify
@cookbooks/ultrasphinx/recipes/default.rb@ to include your application
name. This is the name of your application as Flex/Solo knows it, not
the name of your repository or anything else. Just look for the
@run_for_app@ line towards the top of the recipe and change
@<app_name>@ to be your application name instead.

Once you're done, don't forget to add your recipe to the main recipe
and then deploy it using @ey-recipes --upload ENVIRONMENT_NAME@ (where
@ENVIRONMENT_NAME@ is the name of your environment on Flex/Solo).

Once this is done your recipe is live and will be used during the next
deploy.
